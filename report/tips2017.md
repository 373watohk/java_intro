# レポート総論2017
- <a href="#rep2">レポート2へのコメント</a>
- <a href="#rep3">レポート3へのコメント</a>
- <a href="#rep3">レポート3へのコメント</a>
- <a href="#rep4">レポート4へのコメント</a>
- <a href="#rep5">レポート5へのコメント</a>
- <a href="#rep6">レポート6へのコメント</a>
- <a href="#rep7">レポート7へのコメント</a>

<hr>

## <a name="rep2">レポート2へのコメント</a>
- 課題ページ: [レポート2](https://github.com/naltoma/java_intro/blob/master/report/report2_chatbot2/report2.md)
- 加点
  - カプセル化
  - 詳細レポート（詳細な動作確認等）
- 減点
  - 考察（メリット/デメリット）の記載が無いレポート。
  - 期待していた回答例
    - メリット
      - 柔軟性が高い。
      - 再利用性が高い。
      - Chatbot.class, ReplyPattern.classがあれば、同じ仕様に基づいて記述された別メソッドからでも利用できる。
    - デメリット
      - 柔軟性・再利用性が高くなるようにクラス設計する必要がある。（すぐに思いついたコードを書くだけでは柔軟性・再利用性が高いとは限らない）
      - コードをあちこち行き来するため、全体像を掴むのに苦労する。
      - 適度にカプセル化しないと、別botの応答パターンを意図せず修正してしまうor修正される可能性がある。
- 実装上のコメント
  - searchPattern()で、インデックスを検索する際に2,3回ループ実行してる実装があるが、これはデータが大きくなると遅くなる。一度もしくは二度の検索で終える方法はないだろうか？

<hr>

## <a name="rep3">レポート3へのコメント</a>
- 課題ページ: [レポート3](https://github.com/naltoma/java_intro/blob/master/report/report3_refactoring/report3.md)
- 実装上のコメント
  - 「死亡時にattack()できないようにする」ために、damegeを0に上書きして行動させるコードがちらほら。
    - これでもテストは通りますが、「死亡してても行動を起こしている」という点ではやや気になる修正方法です。ゲームとしても受け入れやすい形での修正方法がないか、考えてみよう。
  - attack()メソッドを「public void attack(Hero hero)」としているケースについて。
    - できれば「public void attack(LivingThing opponent)」のように、親クラスを引数として記述した方がより柔軟性が高くなります。例えば「混乱」という状況下でHeroが仲間へ攻撃したり、Enemyが別のEnemyへ攻撃したりといったことができるようになります。
  - getter/setterメソッドの名称について。
    - フィールド変数「boolean dead」の場合、以下のような名称が一般的。isDead()に合わせる形で、setterをsetIsDead()としてる人がちらほらいましたが、フィールド変数を基準にget/setするようにしよう。
      - public boolean isDead()
        - getDead()としていないのは、deadがboolean型のため。
      - public void setDead(boolean flag)
- GitHub関連
  - Git URL
    - GitHubリポジトリトップ画面の「Clone or Download」クリック時に出力されるURLが正しいです。
- Git関連
  - Gitのコミットメッセージ
    - [gitにおけるコミットログ/メッセージ例文集100](https://anond.hatelabo.jp/20160725092419)
  - 「git log -p -1」を実行するタイミングの問題。
    - 上記コマンドは、実行した時点を基準として、直前のバージョンからの変更点を確認するためのコマンドです。
    - レポート3では、ステップ1終了時点での変更点を確認するために上記コマンドの実行結果掲載を求めています。そのため、ステップ2や3を終えた時点で実行しても、「その時点での直前からの変更点」しか出力されないため、ステップ1時点での結果を確認できません。
    - このような場合、ステップ1時点にバージョンを戻してから実行してみよう。バージョンを行き来できるのがバージョン管理システムです。
- レポートの書き方
  - 「薄い背景色＋白文字」の組み合わせは読みづらい。なるべく明暗差が大きくなるようにしよう。
  - レポートは（正式な）報告書です。見出し、句読点、文章、段落を適切に使おう。メールやショートメッセージのような日常的なやり取りとは異なるので、報告書らしい書き方をしよう。
    - e.g., 無意味な改行が本文中に含まれていたり、適切に句読点が使われていないと報告内容を読み取りにくくなります。段落も意識して書かないと、報告書全体の流れが把握しづらくなります。

<hr>

## <a name="rep4">レポート4へのコメント</a>
- 課題ページ: [レポート4](https://github.com/naltoma/java_intro/blob/master/report/report4_exception/report4.md)
- 加点
  - ステップ3
    - NumberFormatExceptionもcatchしてる。もしくは、異なる例外にも対応できるよう Exception でcatchしている。
    - 追加確認をしている。（e.g., "3.14"の時どうなるか？）
- 減点
  - ステップ3
    - 違うAPIを参照している。
      - 使ってるのはDouble.parseDouble(String)。
      - javax.xml.bind.DatatypeConverter.parseDouble​(String lexicalXSDDouble) を参照している人がちらほら。
        - 後者の方はNullPointerExceptionがありません。
    - 例外について解説するよう指示があるにも関わらず、その部分に関する解説がない。もしくは一般的な話しか書かれていない。
    - ただの翻訳結果を掲載している。（翻訳と解説は異なる）
    - 例外発生することが分かる指示になっているので、できれば例外処理書いてほしかった。（仕様に含めるのを忘れていたので微減点のみ）

<hr>

## <a name="rep5">レポート5へのコメント</a>
- 課題ページ: [レポート5](https://github.com/naltoma/java_intro/blob/master/report/report5_gradle/report5.md)
- 加点
  - 確率実装の動作検証。
  - 死亡メッセージの実装工夫。
- 減点
  - GitHub関連
    - Git URLが報告されていない。（build.gradle含め、コード諸々確認できない）
    - レポートで解説してるコードと、GitHub上のコードが一致していない。（どちらかが古いまま？）
  - Gradle関連
    - build.gradleがpushされていない。（このため、jarファイル生成できるか動作確認もできない）
    - build.gradleの設定が不十分。
      - Mainメソッドを指定していない。
      - sourceCompatibilityが古いまま。
  - コード関連
    - 確率が指定通りになっていない。
      - e.g., int型で0〜9の10通りを乱数生成し、40%のつもりで4以下に設定する。
    - アノテーション（@Override）がない。
    - 会心の一撃時に、与えるダメージは2倍に処理しているが、その後の実際にダメージを与える処理をし忘れている。
    - Hero.wounded()処理時に、ヒットポイント用に新しく用意した別変数だけを処理している。（hitPointが減らない）
      - LivingThing.hitPointを処理していないため、一撃で殺されない限り死亡しない。また、dead==trueになったとしても何故かhitPointが初期値のまま残っている状態になる。
- その他
  - 不要なコードをコメントアウトしたまま残している。
    - 開発中に残しておくことの気持ちはわかりますが、pushするコードにまで残しておくのはやめましょう。古いコードはリポジトリが覚えています。
  - 「IdeaProjects」を含めてadd,pushしている。
    - プロジェクトに関係ないコードやディレクトリはaddしないようにしよう
- オマケのオマケ（授業中に説明するかも）
  - より柔軟性の高いコードを目指して or 仕様変更を想定して
  - コードゴルフ

<hr>

## <a name="rep6">レポート6へのコメント</a>
- 課題ページ: [レポート6](https://github.com/naltoma/java_intro/blob/master/report/report6_final/report6.md)
- 加点
  - README.mdにプロジェクト概要説明がある。
- 減点
  - Gradle関連
    - build.gradleがない（jarファイル生成、test確認を自動でやれない）
  - JUnit関連
    - そもそもテストコードが存在しない。
    - 処理内容をprint出力して目視確認する形になっている。
    - JUnit4を使っている。（授業で使ったのはJUnit5）
  - コード関連
    - 実装途中なのは構わないが、動作確認できるコードが数行のみ。
- その他
  - 実装上のコメント
    - 命名規則
      - フィールド変数、メソッド名は頭文字を小文字にしよう。大文字にするとクラスと誤解されます。
      - メソッド名は「動詞＋名詞」を意識してみよう。「英語のように読める≒コードとして読みやすい」です。
  - 参考サイト・書籍として紹介したもの
    - [File I/O時のパス設定例](https://github.com/naltoma/SampleFilePath)
    - [ドルアーガの塔　乱数の工夫の正体](http://sekigames.gg-blog.com/Entry/291/)
    - [【Java入門】Enum(列挙型)の使い方総まとめ](https://www.sejuku.net/blog/14779)
    - [リーダブルコード　――より良いコードを書くためのシンプルで実践的なテクニック](https://www.oreilly.co.jp/books/9784873115658/)
    - [Javaでゲーム作りますが何か？](http://aidiary.hatenablog.com/entry/20040918/1251373370)
    - [第4回勉強会 単体テストのすすめ](https://www.slideshare.net/hakoika-itwg/4-14292568)
  - Gradle補足
    - ``gradle test`` が當間環境（ターミナル上）では動作しないケースがちらほらありました。授業でも解説不足でしたが、dependenciesに以下の設定（2つ目）を組み込むと良いようです。

```
dependencies {
  testCompile group: 'junit', name: 'junit', version: '4.12'
  testCompile 'org.junit.jupiter:junit-jupiter-api:5.0.0'
}
```

<hr>

## <a name="rep7">レポート7へのコメント</a>
- 課題ページ: [レポート7](https://github.com/naltoma/c_intro/blob/master/report1_sorting/report1.md)
- 加点
  - 手続きの図解。
  - ポインタ利用。
  - 複数ソートアルゴリズム解説。
  - define利用。
  - ライブラリ利用。stdlib.h (qsort())
  - 実装工夫（処理結果を引数で渡す）。
  - 微加点
    - GitHub利用。
    - 例示以外のデータセットによる動作確認。
- 減点
  - 配列の要素数が固定された状態になっているコード。
    - 異なるサイズのデータセットで検証しようとすると、データセット指定部分以外の箇所も修正が必要になる。
  - ソースファイル未提出。
    - コードは、ソースファイル自体も提出するか、githubアップロード＆URL報告するかしよう。（という指定がありました）一応全コード掲載されてるので確認できますが、手元で動作確認する際に不便なので。
- その他
  - main関数の戻り値。
    - main関数の戻り値については授業中に軽く触れただけですが、「プログラムの終了ステータス」を確認しやすくするためにint型を返す必要があります。多くの場合、「終了ステータスが0」だと、正常に終了したということを意味しています。逆に、0以外の値になっていると何かしら問題が発生したことを意味することが多いです。
  - 出典の明示について。
    - アルゴリズム等、課題への取り組み過程で文献なりwebページなり参照してもらって構いませんが、なるべく参照した情報源は出典として明示するようにしましょう。レポート（報告書）を書く際の流儀です。
    - [理科系の作文技術](https://www.amazon.co.jp/理科系の作文技術-中公新書-624-木下-是雄/dp/4121006240)をオススメします。これを教科書指定している日本語表現法入門があったはず。
  - 関数の名称について。
    - 関数の挙動を想像しやすいような名称を付けよう。
    - 良くない例
      - reverse(): 実際には配列の値をprint出力するだけ。（ミスマッチ）
      - func(): 中身を想像できない。
      - print_array(): 実際にはソートしている。（ミスマッチ）
